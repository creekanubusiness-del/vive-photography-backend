<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Vive Photography</title>

<style>
body{
  margin:0;
  font-family: system-ui, sans-serif;
  background:#f5f5f5;
}

header{
  position:sticky;
  top:0;
  background:white;
  padding:15px 20px;
  display:flex;
  justify-content:space-between;
  align-items:center;
  box-shadow:0 2px 10px rgba(0,0,0,0.1);
  z-index:1000;
}

.upload-btn{
  background:black;
  color:white;
  padding:8px 14px;
  border-radius:6px;
  cursor:pointer;
}

input[type="file"]{display:none;}

.gallery{
  column-count:4;
  column-gap:12px;
  padding:15px;
}

.gallery img{
  width:100%;
  margin-bottom:12px;
  border-radius:10px;
  break-inside: avoid;
}
</style>
</head>
<body>

<header>
  <h2>Vive Photography</h2>
  <label class="upload-btn">
    Upload Photo
    <input type="file" id="fileInput"/>
  </label>
</header>

<div class="gallery" id="gallery"></div>

<script>
const input = document.getElementById("fileInput");
const gallery = document.getElementById("gallery");

// Upload image
input.addEventListener("change", async () => {
  const file = input.files[0];
  const formData = new FormData();
  formData.append("photo", file);

  const res = await fetch("https://vive-photography-api.onrender.com"), {
    method: "POST",
    body: formData
  });

  const data = await res.json();
  addImage(data.file);
});

// Show image
function addImage(filename){
  const img = document.createElement("img");
  img.src = "http://localhost:5000/images/" + filename;
  gallery.prepend(img);
}
</script>

</body>
</html>
